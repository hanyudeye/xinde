#+TITLE: Linux 内核简介
#+DESCRIPTION: Linux 内核简介
#+TAGS: Linux Core,kernel 
#+CATEGORIES: 软件使用

* Linux Core
** 简介
   #+begin_verse
   现在最新型的操作系统的该有的样子。 
   Windows 是另一种样子。
   #+end_verse
   
  #+HTML: <!-- more -->
  
** 硬件知识 
*** 内存寻址
    #+begin_quote
    *Intel* 提供的是分段分页方式，而且是多模式的。
    *软件开发人员* 不用关心这个，程序间是互不干涉的。因为操作系统做了内存间数据和代码的 *保护* 。
    #+end_quote
** 内核知识    
*** 内核编译 
    make 就可以了，可以配置选项。 
*** 进程 (指挥者)
    #+begin_quote
    #+begin_verse
    我们玩电脑，一般唰唰唰要开好几个软件吧，每个软件都是要吃 *CPU* 的，我们看起来好像几个软件能共享一个 CPU，这就是内核对程序的进程抽象。 
    就像你有好几个孩子一样，每个孩子都想去玩，来征得你的同意，你轻抚着孩子的头说:“去玩吧，孩子”。 哈哈
    #+end_verse
    #+end_quote
**** 进程、轻量级进程和线程
**** 进程描述符
     进程描述符 的结构是 *task_struct*
    
     #+begin_src c
       struct task_struct {
         u64 curr_chain_key;
         int lockdep_depth;
         unsigned int lockdep_recursion;
         struct held_lock held_locks[MAX_LOCK_DEPTH];
         gfp_t lockdep_reclaim_gfp;
         int pid;
         int state;
         char comm[17];
       };
     #+end_src
**** 进程状态
     每个 *孩子* 对 *CPU* 的状态
     * 运行
     * 可中断
     * 不可中断
     * 被其他进程跟踪
     * 停止

**** 进程切换
**** 创建进程
**** 撤消进程
*** 中断和异常
    #+begin_verse
    就是打断程序正常执行的操作，比如在执行程序时你按了鼠标或键盘，然后内核怎么处理。
    #+end_verse
    中断信号的作用
    中断和异常
    中断和异常处理程序的嵌套执行
    初始化中断描述符表
    异常处理
    中断处理
    软中断及 tasklet
    工作队列
    从中断和异常返回

*** 内核同步
    内核如何为不同的请求提供服务
    同步原语
    对内核数据结构的同步访问
    避免竞争条件的实例

*** 定时测量
 时钟和定时器电路
 Linux 计时体系结构
 更新时间和日期
 更新系统统计数
 软定时器和延迟函数
 与定时测量相关的系统调用

*** 进程调度
 调度策略
 调度算法
 调度程序所使用的数据结构
 调度程序所使用的函数
 多处理器系统中运行队列的平衡
 与调度相关的系统调用

*** 内存管理
 页框管理
 内存区管理
 非连续内存区管理

*** 进程地址空间
 进程的地址空间
 内存描述符
 线性区
 缺页异常处理程序
 创建和删除进程的地址空间
 堆的管理

*** 系统调用
 POSIX API 和系统调用
 系统调用处理程序及服务例程
 进入和退出系统调用
 参数传递
 内核封装例程

*** 信号
 信号的作用
 产生信号
 传递信号
 与信号处理相关的系统调用

*** 虚拟文件系统
 虚拟文件系统(VFS)的作用
 VFS 的数据结构
 文件系统类型
 文件系统处理
 路径名查找
 VFS 系统调用的实现
 文件加锁

*** I/O 体系结构和设备驱动程序
 I/O 体系结构
 设备驱动程序模型
 设备文件
 设备驱动程序
 字符设备驱动程序

*** 块设备驱动程序
 块设备的处理
 通用块层
 I/O 调度程序
 块设备驱动程序
 打开块设备文件

*** 页高速缓存
 页高速缓存
 把块存放在页高速缓存中
 把脏页写入磁盘
 sync()、fsync()和 fdatasync()系统调用

*** 访问文件
 读写文件
 内存映射
 直接 I/O 传送
 异步 I/O

*** 回收页框
 页框回收算法
 反向映射
 PFRA 实现
 交换

*** Ext2 和 Ext3 文件系统
 Ext2 的一般特征
 Ext2 磁盘数据结构
 Ext2 的内存数据结构
 创建 Ext2 文件系统
 Ext2 的方法
 管理 Ext2 磁盘空间
 Ext3 文件系统

*** 进程通信
 管道
 FIFO
 System V IPC
 POSIX 消息队列

*** 程序的执行
 可执行文件
 可执行格式
 执行域
 exec 函数

*** 系统启动
    附录二 模块
    参考文献
    源代码索引

