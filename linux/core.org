#+TITLE: Linux 内核简介
#+DESCRIPTION: Linux 内核简介
#+TAGS: Linux Core,kernel 
#+CATEGORIES: 软件使用

* Linux Core
** 简介

   我们讲的是源码。一般源码解析都是以书的形式书写的，我不想粘贴代码，就把基本的对象写出来，大家直接在源码里查找。
   
   我们也讲解较为热门的 intel x86 平台这一硬件特点，虽然 linux 已支持很多的平台。
** 内存寻址
   #+begin_quote
   这是硬件的特性， *linux* 操作内存的方式需要符合硬件要求。
   Intel 86 提供的是分段分页方式，而且是多模式的。
   决定放在计算机里面描述。
   简而言之，操作内存不容易，操作内存受到限制，按照特定模式，按照特定规范来。
   #+end_quote
   
   分段分页都是保护性质的操作内存的方法，先制定约束规则，然后操作，凡是违反 规则，则系统报错。
   打瞌睡了，跳过。看了想睡觉。
*** 内存地址
*** 硬件中的分段
*** Linux 中的分段
*** 硬件中的分页
*** Linux 中的分页
** 进程
*** 进程、轻量级进程和线程
    进程我们知道，是 *linux* 抽象出的可执行的程序。
    看看里面的含义是什么？
*** 进程描述符
    进程描述符 的结构是 *task_struct*
    
    #+begin_src c
      struct task_struct {
        u64 curr_chain_key;
        int lockdep_depth;
        unsigned int lockdep_recursion;
        struct held_lock held_locks[MAX_LOCK_DEPTH];
        gfp_t lockdep_reclaim_gfp;
        int pid;
        int state;
        char comm[17];
      };
    #+end_src
    
    进程状态
    进程切换
    创建进程
    撤消进程
** 中断和异常
   中断信号的作用
 中断和异常
 中断和异常处理程序的嵌套执行
 初始化中断描述符表
 异常处理
 中断处理
 软中断及 tasklet
 工作队列
 从中断和异常返回


** 内核同步
内核如何为不同的请求提供服务
同步原语
对内核数据结构的同步访问
避免竞争条件的实例

** 定时测量
时钟和定时器电路
Linux 计时体系结构
更新时间和日期
更新系统统计数
软定时器和延迟函数
与定时测量相关的系统调用

** 进程调度
调度策略
调度算法
调度程序所使用的数据结构
调度程序所使用的函数
多处理器系统中运行队列的平衡
与调度相关的系统调用

** 内存管理
页框管理
内存区管理
非连续内存区管理

** 进程地址空间
进程的地址空间
内存描述符
线性区
缺页异常处理程序
创建和删除进程的地址空间
堆的管理

** 系统调用
POSIX API 和系统调用
系统调用处理程序及服务例程
进入和退出系统调用
参数传递
内核封装例程

** 信号
信号的作用
产生信号
传递信号
与信号处理相关的系统调用

** 虚拟文件系统
虚拟文件系统(VFS)的作用
VFS 的数据结构
文件系统类型
文件系统处理
路径名查找
VFS 系统调用的实现
文件加锁

** I/O 体系结构和设备驱动程序
I/O 体系结构
设备驱动程序模型
设备文件
设备驱动程序
字符设备驱动程序

** 块设备驱动程序
块设备的处理
通用块层
I/O 调度程序
块设备驱动程序
打开块设备文件

** 页高速缓存
页高速缓存
把块存放在页高速缓存中
把脏页写入磁盘
sync()、fsync()和 fdatasync()系统调用

** 访问文件
读写文件
内存映射
直接 I/O 传送
异步 I/O

** 回收页框
页框回收算法
反向映射
PFRA 实现
交换

** Ext2 和 Ext3 文件系统
Ext2 的一般特征
Ext2 磁盘数据结构
Ext2 的内存数据结构
创建 Ext2 文件系统
Ext2 的方法
管理 Ext2 磁盘空间
Ext3 文件系统

** 进程通信
管道
FIFO
System V IPC
POSIX 消息队列

** 程序的执行
可执行文件
可执行格式
执行域
exec 函数

** 系统启动
附录二 模块
参考文献
源代码索引

* 目录  
第一章 绪论
Linux 与其他类 Unix 内核的比较
硬件的依赖性
Linux 版本
操作系统基本概念
Unix 文件系统概述
Unix 内核概述
第二章 内存寻址
内存地址
硬件中的分段
Linux 中的分段
硬件中的分页
Linux 中的分页
第三章 进程
进程、轻量级进程和线程
进程描述符
进程切换
创建进程
撤消进程
第四章 中断和异常
中断信号的作用
中断和异常
中断和异常处理程序的嵌套执行
初始化中断描述符表
异常处理
中断处理
软中断及 tasklet
工作队列
从中断和异常返回
第五章 内核同步
内核如何为不同的请求提供服务
同步原语
对内核数据结构的同步访问
避免竞争条件的实例
第六章 定时测量
时钟和定时器电路
Linux 计时体系结构
更新时间和日期
更新系统统计数
软定时器和延迟函数
与定时测量相关的系统调用
第七章 进程调度
调度策略
调度算法
调度程序所使用的数据结构
调度程序所使用的函数
多处理器系统中运行队列的平衡
与调度相关的系统调用
第八章 内存管理
页框管理
内存区管理
非连续内存区管理
第九章 进程地址空间
进程的地址空间
内存描述符
线性区
缺页异常处理程序
创建和删除进程的地址空间
堆的管理
第十章 系统调用
POSIX API 和系统调用
系统调用处理程序及服务例程
进入和退出系统调用
参数传递
内核封装例程
第十一章 信号
信号的作用
产生信号
传递信号
与信号处理相关的系统调用
第十二章 虚拟文件系统
虚拟文件系统(VFS)的作用
VFS 的数据结构
文件系统类型
文件系统处理
路径名查找
VFS 系统调用的实现
文件加锁
第十三章 I/O 体系结构和设备驱动程序
I/O 体系结构
设备驱动程序模型
设备文件
设备驱动程序
字符设备驱动程序
第十四章 块设备驱动程序
块设备的处理
通用块层
I/O 调度程序
块设备驱动程序
打开块设备文件
第十五章 页高速缓存
页高速缓存
把块存放在页高速缓存中
把脏页写入磁盘
sync()、fsync()和 fdatasync()系统调用
第十六章 访问文件
读写文件
内存映射
直接 I/O 传送
异步 I/O
第十七章 回收页框
页框回收算法
反向映射
PFRA 实现
交换
第十八章 Ext2 和 Ext3 文件系统
Ext2 的一般特征
Ext2 磁盘数据结构
Ext2 的内存数据结构
创建 Ext2 文件系统
Ext2 的方法
管理 Ext2 磁盘空间
Ext3 文件系统
第十九章 进程通信
管道
FIFO
System V IPC
POSIX 消息队列
第二十章 程序的执行
可执行文件
可执行格式
执行域
exec 函数
附录一 系统启动
附录二 模块
参考文献
源代码索引
