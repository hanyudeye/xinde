#+TITLE: emacs 简介
#+DESCRIPTION: emacs 编辑器 
#+TAGS[]: emacs
#+CATEGORIES[]: 技术
#+DATE: 2019-06-04T22:41:32+08:00
#+lastmod: 2020-02-05T18:24:57+08:00

写字的，具有 10000多个内置命令，还允许用户编写新的命令，所以它的功能很多，全部学
完很难，但可以学一部分，以后要用到复杂功能再学。

# more

** 抽象概念 
   - *buffer* :  emacs 可以打开多个文件，每个文件存在一个buffer里面，buffer 有一个buffername 属性，一般就是文件名
   - *window*: 你看到的文件，就是在显示器里显示的emacs界面。
   - *Point*  : 小光标，一般你要把光标移到要修改文本的位置，再修改文本。
   - *echo area* : *Messages* buffer 的一小段窗口，命令输入区，也用来显示简短消息。  
   - *mode line* : 显示写字板的 *状态*
   - *menu bar*: 菜单栏，一般把它关掉。
   - *mark* : 文字选区 
   - *rectangle* : 矩形文字选区
   - *kill-ring* : 被切除文本的临时存放区，emacs 会自动保存文本片段到  *kill-ring* 区域。

** 基本功能
*** 文字输入
   - 键盘字母区的文字可以直接输入 *(insert ?a)*  或 *insert-char*
   - 输入不可见字符 *quoted-insert*
   - 输入键盘控制键 : 如  ~C-q  DEL~ ,  ~C-q RET~
   - 八进制数字 : ~C-q  1 0 1~  插入 ~A~ 

*** 移动光标 (point)
    | 后一个字   | forward-char           |
    | 前一个字   | backward-char          |
    | 下一行     | next-line              |
    | 上一行     | previous-line          |
    | 行首       | move-beginning-of-line |
    | 行尾       | move-end-of-line       |
    | 后一个词组 | forward-word           |
    | 跳到某行   | goto-line              |

*** 删除文字
    | 删除光标前面的字     | delete-forward-char |
    | 删除光标后面的字     | delete-char         |
    | 把光标那行后面都删掉 | kill-line           |
    | 删掉光标后面词组     | kill-word           |

*** 撤消与恢复
    | 撤消            | undo           |
    | 恢复(取消撤销)  | undo-tree-redo |
    | 恢复整个 buffer | revert-buffer  |

*** 文件操作
    | 访问 | find-file   |
    | 保存 | save-buffer |
*** 长行
    | 长行换行                 | toggle-truncate-lines    |
    | 自动填充(自动插入换行符) | auto-fill-mode           |
    | 截断长行                 | fill-paragraph           |
    | 截断区域                 | fill-region-as-paragraph |
    | 设置断行的长度           | set-fill-column          |
    | 设置填充前缀             | set-fill-prefix          |
    
*** 文本信息
    | 哪一行         | what-line            |
    | 模式行显示行号 | line-number-mode     |
    | 模式行显示列号 | column-number-mode   |
    | 区域信息       | count-words-region   |
    | 缓冲区信息     | count-words          |
    | 字符信息       | what-cursor-position |
    | 高亮行         | hl-line-mode         |
    | 缓冲区大小     | size-indication-mode |
     
*** 数字参数
    有些命令要执行多次，可以加一个数字参数 
    ~M~ 键加一个数字 N 就能执行 N 次命令
*** 输入法
    | 设置输入法 | set-input-method    |
    | 输入法开关 | toggle-input-method |

    #+begin_quote
    M-x set-input-method RET TeX will allow you to write e.g. \beta to get β,
    \sum or \Sigma to get Σ etc.
    #+end_quote

** 高级一点的功能
*** Mark (标记) 
    | 拖动标记              | set-mark-command        |
    | 标记词                | mark-word               |
    | 标记段 |mark-paragraph                          |
    | 切换标记点            | exchange-point-and-mark |
*** kill
    | kill 行                       | kill-line      |
    | kill 选区                     | kill-region    |
    | 复制选区                      | kill-ring-save |
    | 粘贴 *kill-ring* 顶部条目     | yank           |
    | 弹出 *kill-ring* 列表余下条目 | yank-pop       |

    #+begin_quote
    #+begin_verse
    不保存在 ~kill-ring~   的命令叫 ~delete~ 命令，通常删除字，词这些删的少的。 
    如果要执行 ~yank-pop~ , 上一次命令 必须是 ~yank~ 命令哦
    #+end_verse
    #+end_quote
*** rectangle (矩形标记)
    | 标记矩形 | rectangle-mark-mode |
*** 暂存器  ( 临时存储 ) 
    | 访问寄存器内容       | view-register              |
    | 记录位置             | point-to-register          |
    | 跳转到位置           | jump-to-register           |
    | 拷贝 *text* 到寄存器 | copy-to-register           |
    | 弹出寄存器内容       | insert-register            |
    | 内容追加             | append-to-register         |
    | 拷贝矩形到寄存器     | copy-rectangle-to-register |
     
*** 搜索和替换 
    | 向后搜 | isearch-forward  |
    | 向前搜 | isearch-backward |
    | 替换   | replace-string   |

*** 大小转化  ( upcase, lowcase ) 
*** 键盘宏  
    | 记录键盘序列                   | kmacro-start-macro-or-insert-counter |
    | 结束记录键盘宏，作为当前可用宏 | kmacro-end-or-call-macro             |

*** 目录
    | 显示目录列表 | list-directory   |
    | 创建目录     | make-directory   |
    | 删除目录     | delete-directory |
*** 十六进制
    | 插入 16 进制 | hexl-insert-hex-char |

** 编码
   | 查看文字编码信息       | what-cursor-position          |
   | 设置 *buffer* 编码格式 | set-buffer-file-coding-system |
   
   #+begin_quote
   网上查看编码信息， https://www.qqxiuzi.cn/bianma/zifuji.php ,可能会失效，网上搜个。
   #+end_quote
   
** 服务 
   #+begin_quote
   开启服务后，就能共享 *emacs* 环境了。还可以设置多个不同服务
   #+end_quote
   | 开启服务         | server-start          |
   | 连接服务         | emacsclient           |
   | 设置客户端编辑器 | EDITOR=emacsclient -c |
   | 关闭服务文件     | ~C-x #~               |

** 扩展
   | 列出扩展 | list-packages            |
   | 重新安装 | package-reinstall        |
   | 加载扩展 | load-file                |
   | 加载扩展 | require                  |
   | 字节编译 | byte-recompile-directory |
** 排错
   | 捕捉错误 | debug-on-error |

** 帮助
   | 初学者帮助 | help-with-tutorial |
   | emacs 文档 | info-emacs-manual  |
   | 按键信息   | describe-key       |
   | 命令帮助   | describe-function  |
   | 变量信息   | describe-variable  |

** 选项
   - q      不 装载 初始化 文件
   - l file 装载 文件 file 里面 的 lisp 代码
   - f function 执行 lisp 函数 function

     从头测试，你可以用下面的方法测试你的配置
     #+begin_src shell
     emacs -l file  -q
     #+end_src

