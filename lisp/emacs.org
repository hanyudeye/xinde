#+TITLE: emacs 简介
#+DESCRIPTION: emacs 编辑器 
#+TAGS: emacs
#+CATEGORIES: 软件使用
#+DATE: <2019-06-04 22:30:51>

* emacs 
** 简介 
   #+begin_verse
   一般一个软件能做一件事情，这个软件是反传统的，能做乱七八糟很多事情，功能非常的多，所有有人也叫它 *操作系统* 。
   能用来编辑各种程序文本，还能听歌看视频，发邮件....。
   #+end_verse
   #+HTML: <!-- more -->
   #+begin_verse
   最初由大神  *Richard Stallman* 于 1975 年在 MIT 协同 *盖伊·史提尔二世* 共同完成的一款 ~文字编辑软件~ 。
   源自 Editor MACroS，宏编辑器 , 宏是大的意思，大编辑器，就是一款功能  *很强* 的编辑器。
   #+end_verse
   #+begin_quote
   功能强体现在，你可以在上面扩展 *无穷* 的功能，只需了解 *lisp* 的语法。
   这东西就像一头庞然巨兽，或者魔法袋，什么东西都有。
   #+end_quote
   
   #+begin_verse
   初学者帮助，（help-with-tutorial）,快捷键为  @@html:<kbd>@@ C-h t @@html:</kbd>@@ 
   #+end_verse
** 抽象概念
   在 *emacs* 中，存在着以下对象
   
   #+begin_verse
   *buffer* : 文件映射，保存 *buffer* 后文件就修改了。
   *Point* (光标) : 指示文本修改的位置
   *echo area* : 命令输入区，也用来提示消息的一小块区域。  
   *mode line* : 相当于 *buffer* 对应的 *状态栏*
   *menu bar*: 菜单，一般把它关掉，如果你不记得某条命令，可以打开参考一下。
   *mark* : 一块选区 
   *rectangle* : 矩形选区
   *kill-ring* : kill(切除)长一点的文本，emacs 会自动保存文本片段到  *kill-ring* 列表
   
   #+end_verse
   
** 基本功能
*** 插入文字
    #+begin_verse
    键盘字母区的文字可以直接输入 *(insert ?a)*  或 *insert-char*
    不可见字符 *quoted-insert*
    键盘控制键 : 如  @@html:<kbd>@@ C-q  DEL @@html:</kbd>@@ , @@html:<kbd>@@  C-q RET @@html:</kbd>@@ 
    八进制数字 : @@html:<kbd>@@ C-q  1 0 1 @@html:</kbd>@@ 插入 ~A~ 
    #+end_verse

*** 移动光标 (point)
    | 后一个字   | forward-char           |
    | 前一个字   | backward-char          |
    | 下一行     | next-line              |
    | 上一行     | previous-line          |
    | 行首       | move-beginning-of-line |
    | 行尾       | move-end-of-line       |
    | 后一个词组 | forward-word           |
    | 跳到某行   | goto-line              |

*** 删除文字
    | 删除光标前面的字     | delete-forward-char |
    | 删除光标后面的字     | delete-char         |
    | 把光标那行后面都删掉 | kill-line           |
    | 删掉光标后面词组     | kill-word           |

*** 撤消与恢复
    | 撤消            | undo           |
    | 恢复(取消撤销)  | undo-tree-redo |
    | 恢复整个 buffer | revert-buffer  |

*** 文件操作
    | 访问 | find-file   |
    | 保存 | save-buffer |
*** 长行
    | 长行换行                 | toggle-truncate-lines    |
    | 自动填充(自动插入换行符) | auto-fill-mode           |
    | 截断长行                 | fill-paragraph           |
    | 截断区域                 | fill-region-as-paragraph |
    | 设置断行的长度           | set-fill-column          |
    | 设置填充前缀             | set-fill-prefix          |
    
*** 文本信息
    | 哪一行         | what-line            |
    | 模式行显示行号 | line-number-mode     |
    | 模式行显示列号 | column-number-mode   |
    | 区域信息       | count-words-region   |
    | 缓冲区信息     | count-words          |
    | 字符信息       | what-cursor-position |
    | 高亮行         | hl-line-mode         |
    | 缓冲区大小     | size-indication-mode |
     
*** 数字参数
    有些命令要执行多次，可以加一个数字参数 
    @@html:<kbd>@@ M @@html:</kbd>@@ 键加一个数字 N 就能执行 N 次命令
*** 输入法
    | 设置输入法 | set-input-method    |
    | 输入法开关 | toggle-input-method |

    #+begin_quote
    M-x set-input-method RET TeX will allow you to write e.g. \beta to get β,
    \sum or \Sigma to get Σ etc.
    #+end_quote

** 高级一点的功能
*** Mark (标记) 
    | 拖动标记              | set-mark-command        |
    | 标记词                | mark-word               |
    | 标记段 mark-paragraph |                         |
    | 切换标记点            | exchange-point-and-mark |
*** kill
    | kill 行                       | kill-line      |
    | kill 选区                     | kill-region    |
    | 复制选区                      | kill-ring-save |
    | 粘贴 *kill-ring* 顶部条目     | yank           |
    | 弹出 *kill-ring* 列表余下条目 | yank-pop       |

    #+begin_quote
    #+begin_verse
    不保存在 ~kill-ring~   的命令叫 ~delete~ 命令，通常删除字，词这些删的少的。 
    如果要执行 ~yank-pop~ , 上一次命令 必须是 ~yank~ 命令哦
    #+end_verse
    #+end_quote
*** rectangle (矩形标记)
    | 标记矩形 | rectangle-mark-mode |
*** 暂存器  ( 临时存储 ) 
    | 访问寄存器内容       | view-register              |
    | 记录位置             | point-to-register          |
    | 跳转到位置           | jump-to-register           |
    | 拷贝 *text* 到寄存器 | copy-to-register           |
    | 弹出寄存器内容       | insert-register            |
    | 内容追加             | append-to-register         |
    | 拷贝矩形到寄存器     | copy-rectangle-to-register |
     
*** 搜索和替换 
    | 向后搜 | isearch-forward  |
    | 向前搜 | isearch-backward |
    | 替换   | replace-string   |

*** 大小转化  ( upcase, lowcase ) 
*** 键盘宏  
    | 记录键盘序列                   | kmacro-start-macro-or-insert-counter |
    | 结束记录键盘宏，作为当前可用宏 | kmacro-end-or-call-macro             |

*** 目录
    | 显示目录列表 | list-directory   |
    | 创建目录     | make-directory   |
    | 删除目录     | delete-directory |
*** 十六进制
    | 插入 16 进制 | hexl-insert-hex-char |

** 编码
   | 查看文字编码信息       | what-cursor-position          |
   | 设置 *buffer* 编码格式 | set-buffer-file-coding-system |
   
   #+begin_quote
   网上查看编码信息， https://www.qqxiuzi.cn/bianma/zifuji.php ,可能会失效，网上搜个。
   #+end_quote
   
** 服务 
   | 开启服务         | server-start          |
   | 设置客户端编辑器 | EDITOR=emacsclient -c |

** 扩展
   | 列出扩展 | list-packages            |
   | 重新安装 | package-reinstall        |
   | 加载扩展 | load-file                |
   | 加载扩展 | require                  |
   | 字节编译 | byte-recompile-directory |
** 排错
   | 捕捉错误 | debug-on-error |

** 帮助
   | 初学者帮助 | help-with-tutorial |
   | emacs 文档 | info-emacs-manual  |
   | 按键信息   | describe-key       |
   | 命令帮助   | describe-function  |
   | 变量信息   | describe-variable  |

* 插件
** ranger
   文件浏览器， *vim* 式的快捷方式，还能多标签。
