* C
** C 环境设置
*** C 编译器 gcc
** C 程序结构
*** 预处理器指令
*** 函数
*** 变量
**** 定义 int i; //声明，也是定义
**** 声明 extern int i; //声明，不是定义
*** 常量
**** 定义常量
*****    使用 #define 预处理器。 //预处理器会处理掉,不用编译器处理
*****    使用 const 关键字。
*** C 存储类 定义 C 程序中变量/函数的范围（可见性）和生命周期
**** auto 存储类是所有局部变量默认的存储类
**** register 存储类用于定义存储在寄存器中而不是 RAM 中的局部变量,最大尺寸等于寄存器的大小
: 不能对它应用一元的 '&' 运算符（因为它没有内存位置
**** static 存储类指示编译器在程序的生命周期内保持局部变量的存在，而不需要在每次它进入和离开作用域时进行创建和销毁
**** extern 存储类用于提供一个全局变量的引用，全局变量对所有的程序文件都是可见的。
*** 语句 & 表达式
*** 注释 /* comment */ or //
*** C 结构体
#+BEGIN_SRC c
struct [structure tag]
{
   member definition;
   member definition;
   ...
   member definition;
} [one or more structure variables]; 
#+END_SRC
*** C 共用体
#+BEGIN_SRC c
union [union tag]
{
   member definition;
   member definition;
   ...
   member definition;
} [one or more union variables];  
#+END_SRC
*** C 位域 (节省空间)
#+BEGIN_SRC c
struct
{
  unsigned int widthValidated : 1;
  unsigned int heightValidated : 1;
} status;
#+END_SRC
*** C typedef
: typedef unsigned char BYTE;
*** C 输入 & 输出
**** getchar() & putchar() 函数
int getchar(void) 函数从屏幕读取下一个可用的字符，并把它返回为一个整数。这个函数在同一个时间内只会读取一个单一的字符。您可以在循环内使用这个方法，以便从屏幕上读取多个字符。
int putchar(int c) 函数把字符输出到屏幕上，并返回相同的字符。这个函数在同一个时间内只会输出一个单一的字符。您可以在循环内使用这个方法，以便在屏幕上输出多个字符。
**** gets() & puts() 函数
char *gets(char *s) 函数从 stdin 读取一行到 s 所指向的缓冲区，直到一个终止符或 EOF。
int puts(const char *s) 函数把字符串 s 和一个尾随的换行符写入到 stdout。
**** scanf() 和 printf() 函数
int scanf(const char *format, ...) 函数从标准输入流 stdin 读取输入，并根据提供的 format 来浏览输入。
int printf(const char *format, ...) 函数把输出写入到标准输出流 stdout ，并根据提供的格式产生输出。
*** C 文件读写
**** 打开 FILE *fopen( const char * filename, const char * mode );
**** 关闭 int fclose( FILE *fp );
**** 写入 int fputc( int c, FILE *fp ); /int fputs( const char *s, FILE *fp );
**** 读取 char *fgets( char *buf, int n, FILE *fp );
*** 头文件
**** 只引入一次
#+BEGIN_SRC c
#ifndef HEADER_FILE
#define HEADER_FILE

the entire header file file

#endif
#+END_SRC
**** 多系统
#+BEGIN_SRC c
 #define SYSTEM_H "system_1.h"
 ...
 #include SYSTEM_H
#+END_SRC
*** C 错误处理
: 大多数的 C 或 UNIX 函数调用返回 1 或 NULL，同时会设置一个错误代码 errno，该错误代码是全局变量，表示在函数调用期间发生了错误。您可以在 <error.h> 头文件中找到各种各样的错误代码。
: 开发人员应该在程序初始化时，把 errno 设置为 0，这是一种良好的编程习惯。0 值表示程序中没有错误。
**** perror() 函数显示您传给它的字符串，后跟一个冒号、一个空格和当前 errno 值的文本表示形式。
**** strerror() 函数，返回一个指针，指针指向当前 errno 值的文本表示形式。
**** 程序退出状态
*****  exit(EXIT_FAILURE) 调用系统宏
*****  exit(EXIT_SUCCESS)
*** C 递归 调用自己
*** C 可变参数
*** C 内存管理 动态内存分配与管理 <stdlib.h>
**** void *calloc(int num, int size);该函数分配一个带有 num 个元素的数组，每个元素的大小为 size 字节。
**** void free(void *address);该函数释放 address 所指向的h内存块。
**** void *malloc(int num);该函数分配一个 num 字节的数组，并把它们进行初始化。
**** void *realloc(void *address, int newsize);该函数重新分配内存，把内存扩展到 newsize。
*** C 命令行参数 int main( int argc, char *argv[] ) 
** 数据类型
*** 	基本类型：
它们是算术类型，包括两种类型：整数类型和浮点类型。
*** 	枚举类型：
它们也是算术类型，被用来定义在程序中只能赋予其一定的离散整数值的变量。
*** 	void 类型：
类型说明符 void 表明没有可用的值。
*** 	派生类型：
它们包括：指针类型、数组类型、结构类型、共用体类型和函数类型。
** C 标准库
*** <assert.h>
 C 标准库的 assert.h头文件提供了一个名为 assert 的宏，它可用于验证程序做出的假设，并在假设为假时输出诊断消息。
已定义的宏 assert 指向另一个宏 NDEBUG，宏 NDEBUG 不是 <assert.h> 的一部分。如果已在引用 <assert.h> 的源文件中定义 NDEBUG 为宏名称，则 assert 宏的定义如下：
#define assert(ignore) ((void)0)
*** <ctype.h>
这些函数接受 int 作为参数，它的值必须是 EOF 或表示为一个无符号字符。
**** int isalnum(int c)该函数检查所传的字符是否是字母和数字。
**** int isalpha(int c)该函数检查所传的字符是否是字母。
**** int iscntrl(int c)该函数检查所传的字符是否是控制字符。
**** int isdigit(int c)该函数检查所传的字符是否是十进制数字。
**** int isgraph(int c)该函数检查所传的字符是否有图形表示法。
**** int islower(int c)该函数检查所传的字符是否是小写字母。
**** int isprint(int c)该函数检查所传的字符是否是可打印的。
**** int ispunct(int c)该函数检查所传的字符是否是标点符号字符。
**** int isspace(int c)该函数检查所传的字符是否是空白字符。
**** int isupper(int c)该函数检查所传的字符是否是大写字母。
**** int isxdigit(int c)该函数检查所传的字符是否是十六进制数字。
**** int tolower(int c)该函数把大写字母转换为小写字母。
**** int toupper(int c)该函数把小写字母转换为大写字母。
*** <float.h>
库宏
下面的值是特定实现的，且是通过 #define 指令来定义的，这些值都不得低于下边所给出的值。请注意，所有的实例 FLT 是指类型 float，DBL 是指类型 double，LDBL 是指类型 long double。
| FLT_ROUNDS          | 定义浮点加法的舍入模式，-1,不确定;0,趋于0;1,去最近的值;2,正无穷;3,负无穷            |
| FLT_RADIX 2         | 定义了指数表示的基数。基数 2 表示二进制，基数 10 表示十进制，基数 16 表示十六进制。 |
| FLT_MANT_DIG        | 这些宏定义了 FLT_RADIX 基数中的位数。                                               |
| FLT_DIG 6           | 这些宏定义了舍入后不会改变表示的十进制数字的最大值（基数 10）。                     |
| FLT_MIN_EXP         | 这些宏定义了基数为 FLT_RADIX 时的指数的最小负整数值。                               |
| LDBL_MIN_10_EXP -37 | 这些宏定义了基数为 10 时的指数的最小负整数值。                                      |
| LDBL_MAX_EXP        | 这些宏定义了基数为 FLT_RADIX 时的指数的最大整数值。                                 |
| LDBL_MAX_10_EXP +37 | 这些宏定义了基数为 10 时的指数的最大整数值。                                        |
| LDBL_MAX 1E+37      | 这些宏定义最大的有限浮点值。                                                        |
| LDBL_EPSILON 1E-9   | 这些宏定义了可表示的最小有效数字。                                                  |
| LDBL_MIN 1E-37      | 这些宏定义了最小的浮点值。                                                          |
* apue
** Chapter 1.   UNIX System Overview                         
*** 1.1  Introduction         
操作系统 需向 在他上面 运行的程序 提供服务
文件操作 时间服务 存储区分配
*** 1.2  UNIX Architecture
内核-) 系统调用-)shell/库函数-)应用软件
*** 1.3  Logging In 
/etc/passwd /etc/shadow
shell 开始运行
*** 1.4  Files and Directories
filesystem  filename 文件属性
文件名
路径名 /开头的是绝对路径
*** 1.5  Input and Output        
*** 1.6  Programs and Processes  
*** 1.7  Error Handling        
*** 1.8  User Identification   
*** 1.9  Signals         
*** 1.10  Time Values                                                    
*** 1.11  System Calls and Library Functions                             
*** 1.12  Summary                                                        
*** Chapter 2.   UNIX Standardization and Implementations                
*** 2.1  Introduction                                                    
*** 2.2  UNIX Standardization                                            
*** 2.2.1  ISO C                                                         
*** 2.2.2  IEEE POSIX                                                    
*** 2.2.3  The Single UNIX Specification                                 
*** 2.2.4  FIPS                                                          
*** 2.3  UNIX System Implementations                                     
*** 2.3.1  UNIX System V Release 4                                       
*** 2.3.2  4.4BSD                                                        
*** 2.3.3  FreeBSD                                                       
*** 2.3.4  Linux                                                         
*** 2.3.5  Mac OS X                                                      
*** 2.3.6  Solaris                                                       
*** 2.3.7  Other UNIX Systems                                            
*** 2.4  Relationship of Standards and Implementations                     
***                                                                      
*** 2.5  Limits                                                          
*** 2.5.1  ISO C Limits                                                  
*** 2.5.2  POSIX Limits                                                  
*** 2.5.3  XSI Limits                                                    
*** 2.5.4  sysconf, pathconf, and fpathconf Functions                      
***                                                                      
*** 
*** 2.5.5  Indeterminate Runtime Limits                                  
*** 2.6  Options                                                         
*** 2.7  Feature Test Macros                                             
*** 2.8  Primitive System Data Types     
*** 2.9  Differences Between Standards   
*** 2.10  Summary         
*** Chapter 3.   File I/O                                               
*** 3.1  Introduction                                                   
*** 3.2  File Descriptors                                               
*** 3.3  open and openat Functions                                      
*** 3.4  creat Function                                                 
*** 3.5  close Function                                                 
*** 3.6  lseek Function                                                 
*** 3.7  read Function                                                  
*** 3.8  write Function                                                 
*** 3.9  I/O Efficiency                                                 
*** 3.10  File Sharing                                                  
*** 3.11  Atomic Operations                                             
*** 3.12  dup and dup2 Functions                                        
*** 3.13  sync, fsync, and fdatasync Functions                          
*** 3.14  fcntl Function                                                
*** 3.15  ioctl Function                                                
*** 3.16  /dev/fd                                                       
*** 3.17  Summary                                                       
*** Chapter 4.   Files and Directories                                  
*** 4.1  Introduction                                                   
*** 4.2  stat, fstat, fstatat, and lstat Functions                         
***                                                                     
*** 4.3  File Types                                                     
*** 4.4  Set-User-ID and Set-Group-ID                                   
*** 4.5  File Access Permissions                                        
*** 4.6  Ownership of New Files and Directories                            
*** 
*** 4.7  access and faccessat Functions      
*** 4.8  umask Function       
*** 4.9  chmod, fchmod, and fchmodat Functions      
*** 4.10  Sticky Bit       
*** 4.11  chown, fchown, fchownat, and lchown Functions                    
***                                                                    
*** 4.12  File Size                                                    
*** 4.13  File Truncation                                              
*** 4.14  File Systems                                                 
*** 4.15  link, linkat, unlink, unlinkat, and remove                       
*** Functions                                                          
*** 4.16  rename and renameat Functions                                
*** 4.17  Symbolic Links                                               
*** 4.18  Creating and Reading Symbolic Links                          
*** 4.19  File Times                                                   
*** 4.20  futimens, utimensat, and utimes Functions                        
***                                                                    
*** 4.21  mkdir, mkdirat, and rmdir Functions                          
*** 4.22  Reading Directories                                          
*** 4.23  chdir, fchdir, and getcwd Functions                          
*** 4.24  Device Special Files                                         
*** 4.25  Summary of File Access Permission Bits                           
***                                                                    
*** 4.26  Summary                                                      
*** Chapter 5.   Standard I/O Library                                  
*** 5.1  Introduction                                                  
*** 5.2  Streams and FILE Objects                                      
*** 5.3  Standard Input, Standard Output, and Standard                     
*** Error                                                              
*** 5.4  Buffering                                                     
*** 5.5  Opening a Stream                                              
*** 5.6  Reading and Writing a Stream                                  
*** 5.7  Line-at-a-Time I/O                                            
*** 5.8  Standard I/O Efficiency                                       
*** 5.9  Binary I/O                                                    
*** 5.10  Positioning a Stream                                         
*** 5.11  Formatted I/O                                                
*** 5.12  Implementation Details                                       
*** 5.13  Temporary Files                                              
*** 5.14  Memory Streams                                               
*** 5.15  Alternatives to Standard I/O                                 
*** 5.16  Summary                                                      
*** Chapter 6.   System Data Files and Information                     
*** 6.1  Introduction                                                  
*** 6.2  Password File                                                 
*** 6.3  Shadow Passwords                                              
*** 6.4  Group File                                                    
*** 6.5  Supplementary Group IDs                                       
*** 6.6  Implementation Differences                                    
*** 6.7  Other Data Files                                              
*** 6.8  Login Accounting                                              
*** 6.9  System Identification                                         
*** 6.10  Time and Date Routines                                       
*** 6.11  Summary                                                      
*** Chapter 7.   Process Environment                                   
*** 7.1  Introduction                                                  
*** 7.2  main Function                                                 
*** 7.3  Process Termination                                           
*** 7.4  Command-Line Arguments                                        
*** 7.5  Environment List                                              
*** 7.6  Memory Layout of a C Program                                  
*** 7.7  Shared Libraries                                              
*** 7.8  Memory Allocation                                             
*** 7.9  Environment Variables                                         
*** 7.10  setjmp and longjmp Functions                                 
*** 7.11  getrlimit and setrlimit Functions                            
*** 7.12  Summary                                                      
*** Chapter 8.   Process Control                                       
*** 8.1  Introduction                                                  
*** 8.2  Process Identifiers                                           
*** 8.3  fork Function                                                 
*** 8.4  vfork Function                                                
*** 8.5  exit Functions                                                
*** 8.6  wait and waitpid Functions                                    
*** 8.7  waitid Function                                               
*** 8.8  wait3 and wait4 Functions                                     
*** 8.9  Race Conditions                                               
*** 8.10  exec Functions                                               
*** 8.11  Changing User IDs and Group IDs                              
*** 8.12  Interpreter Files                                            
*** 8.13  system Function                                              
*** 8.14  Process Accounting                                           
*** 8.15  User Identification                                          
*** 8.16  Process Scheduling                                           
*** 8.17  Process Times                                                
*** 8.18  Summary                                                      
*** Chapter 9.   Process Relationships                                 
*** 9.1  Introduction                                                  
*** 9.2  Terminal Logins                                               
*** 9.3  Network Logins                                                
*** 9.4  Process Groups                                                
*** 9.5  Sessions                                                      
*** 9.6  Controlling Terminal                                          
*** 9.7  tcgetpgrp, tcsetpgrp, and tcgetsid Functions                      
***                                                                    
*** 9.8  Job Control                                                   
*** 9.9  Shell Execution of Programs                                   
*** 9.10  Orphaned Process Groups                                      
*** 9.11  FreeBSD Implementation                                       
*** 9.12  Summary                                                      
*** Chapter.   Signals                                              
*** 10.1  Introduction                                                 
*** 10.2  Signal Concepts                                              
*** 10.3  signal Function                                              
*** 10.4  Unreliable Signals                                           
*** 10.5  Interrupted System Calls                                     
*** 10.6  Reentrant Functions                                          
*** 10.7  SIGCLD Semantics                                             
*** 10.8  Reliable-Signal Terminology and Semantics      
*** 10.9  kill and raise Functions                                     
*** 10.10  alarm and pause Functions                                   
*** 10.11  Signal Sets                                                 
*** 10.12  sigprocmask Function                                        
*** 10.13  sigpending Function                                         
*** 10.14  sigaction Function                                          
*** 10.15  sigsetjmp and siglongjmp Functions                          
*** 10.16  sigsuspend Function                                         
*** 10.17  abort Function                                              
*** 10.18  system Function                                             
*** 10.19  sleep, nanosleep, and clock_nanosleep Functions                 
***                                                                    
*** 10.20  sigqueue Function                                           
*** 10.21  Job-Control Signals                                         
*** 10.22  Signal Names and Numbers                                    
*** 10.23  Summary                                                     
*** Chapter 11.   Threads                                              
*** 11.1  Introduction                                                 
*** 11.2  Thread Concepts                                              
*** 11.3  Thread Identification                                        
*** 11.4  Thread Creation                                              
*** 11.5  Thread Termination                                           
*** 11.6  Thread Synchronization                                       
*** 11.6.1  Mutexes                                                    
*** 11.6.2  Deadlock Avoidance                                         
*** 11.6.3  pthread_mutex_timedlock Function                           
*** 11.6.4  Reader-Writer Locks                                        
*** 11.6.5  Reader-Writer Locking with Timeouts
*** 11.6.6  Condition Variables                                        
*** 11.6.7  Spin Locks                                                 
*** 11.6.8  Barriers                                                   
*** 11.7  Summary                                                      
*** Chapter 12.   Thread Control                                       
*** 12.1  Introduction                                                 
*** 12.2  Thread Limits                                                
*** 12.3  Thread Attributes                                            
*** 12.4  Synchronization Attributes                                   
*** 12.4.1  Mutex Attributes                                           
*** 12.4.2  Reader-Writer Lock Attributes                              
*** 12.4.3  Condition Variable Attributes                              
*** 12.4.4  Barrier Attributes                                         
*** 12.5  Reentrancy                                                   
*** 12.6  Thread-Specific Data                                         
*** 12.7  Cancel Options                                               
*** 12.8  Threads and Signals                                          
*** 12.9  Threads and fork                                             
*** 12.10  Threads and I/O                                             
*** 12.11  Summary                                                     
*** Chapter 13.   Daemon Processes                                     
*** 13.1  Introduction                                                 
*** 13.2  Daemon Characteristics                                       
*** 13.3  Coding Rules                                                 
*** 13.4  Error Logging                                                
*** 13.5  Single-Instance Daemons                                      
*** 13.6  Daemon Conventions                                           
*** 13.7  Client-Server Model                                          
*** 13.8  Summary                                                      
*** Chapter 14.   Advanced I/O                                         
*** 14.1  Introduction                                                 
*** 14.2  Nonblocking I/O                                              
*** 14.3  Record Locking                                               
*** 14.4  I/O Multiplexing                                             
*** 14.4.1  select and pselect Functions                               
*** 14.4.2  poll Function                                              
*** 14.5  Asynchronous I/O                                             
*** 14.5.1  System V Asynchronous I/O                                  
*** 14.5.2  BSD Asynchronous I/O                                       
*** 14.5.3  POSIX Asynchronous I/O                                     
*** 14.6  readv and writev Functions                                   
*** 14.7  readn and writen Functions                                   
*** 14.8  Memory-Mapped I/O                                            
*** 14.9  Summary                                                      
*** Chapter 15.   Interprocess Communication                           
*** 15.1  Introduction                                                 
*** 15.2  Pipes                                                        
*** 15.3  popen and pclose Functions                                   
*** 15.4  Coprocesses                                                  
*** 15.5  FIFOs                                                        
*** 15.6  XSI IPC                                                      
*** 15.6.1  Identifiers and Keys                                       
*** 15.6.2  Permission Structure                                       
*** 15.6.3  Configuration Limits                                       
*** 15.6.4  Advantages and Disadvantages                               
*** 15.7  Message Queues                                               
*** 15.8  Semaphores                                                   
*** 15.9  Shared Memory                                                
*** 15.10  POSIX Semaphores                                            
*** 15.11  Client-Server Properties                                    
*** 15.12  Summary                                                     
*** Chapter 16.   Network IPC: Sockets                                 
*** 16.1  Introduction                                                 
*** 16.2  Socket Descriptors                                           
*** 16.3  Addressing                                                   
*** 16.3.1  Byte Ordering                                              
*** 16.3.2  Address Formats                                            
*** 16.3.3  Address Lookup                                             
*** 16.3.4  Associating Addresses with Sockets                         
*** 16.4  Connection Establishment                                     
*** 16.5  Data Transfer                                                
*** 16.6  Socket Options                                               
*** 16.7  Out-of-Band Data                                             
*** 16.8  Nonblocking and Asynchronous I/O                             
*** 16.9  Summary                                                      
*** Chapter 17.   Advanced IPC                                         
*** 17.1  Introduction                                                 
*** 17.2  UNIX Domain Sockets                                          
*** 17.2.1  Naming UNIX Domain Sockets                                 
*** 17.3  Unique Connections                                           
*** 17.4  Passing File Descriptors                                     
*** 17.5  An Open Server, Version 1                                    
*** 17.6  An Open Server, Version 2                                    
*** 17.7  Summary                                                      
*** Chapter 18.   Terminal I/O                                         
*** 18.1  Introduction                                                 
*** 18.2  Overview                                                     
*** 18.3  Special Input Characters                                     
*** 18.4  Getting and Setting Terminal Attributes                          
***                                                                    
*** 18.5  Terminal Option Flags                                        
*** 18.6  stty Command                                                 
*** 18.7  Baud Rate Functions                                          
*** 18.8  Line Control Functions                                       
*** 18.9  Terminal Identification                                      
*** 18.10  Canonical Mode                                              
*** 18.11  Noncanonical Mode                                           
*** 18.12  Terminal Window Size                                        
*** 18.13  termcap, terminfo, and curses                               
*** 18.14  Summary                                                     
*** Chapter 19.   Pseudo Terminals                                     
*** 19.1  Introduction                                                 
*** 19.2  Overview                                                     
*** 19.3  Opening Pseudo-Terminal Devices                              
*** 19.4  pty_fork Function                                            
*** 19.5  pty Program                                                  
*** 19.6  Using the pty Program                                        
*** 19.7  Advanced Features                                            
*** 19.8  Summary                                                      
*** Chapter 20.   A Database Library                                   
*** 20.1  Introduction                                                 
*** 20.2  History                                                      
*** 20.3  The Library                                                  
*** 20.4  Implementation Overview                                      
*** 20.5  Centralized or Decentralized?                                
*** 20.6  Concurrency                                                  
*** 20.7  Building the Library                                         
*** 20.8  Source Code                                                  
*** 20.9  Performance                                                  
*** 20.10  Summary                                                     
*** Chapter 21.   Communicating with a Network Printer                 
*** 21.1  Introduction                                                 
*** 21.2  The Internet Printing Protocol                               
*** 21.3  The Hypertext Transfer Protocol                              
*** 21.4  Printer Spooling                                             
*** 21.5  Source Code                                                  
*** 21.6  Summary                                                      
*** Appendix A.   Function Prototypes                                  
*** Appendix B.   Miscellaneous Source Code                            
*** B.1  Our Header File                                               
*** B.2  Standard Error Routines                                       
*** Appendix C.   Solutions to Selected Exercises                      



