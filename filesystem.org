* 文件系统
** FAT12 格式软盘
   对于 FAT 文件系统，它没有 inode，每个 block 中存储着下一个 block 的编号。
   FAT12 是 DOS 时代就开始使用的文件系统（File System)，直到 2009 年仍然在软盘上使用。
*** 主磁盘结构
**** 引导扇区（Boot Sector）
     位于第一个扇区，在软盘上就是 0 柱面（磁道）0 磁头 1 扇区。
     引导扇区格式
  | 名称           | 偏移 | 长度 | 内容                                    | 软盘参考值             |
  | BS_jmpBoot     |    0 |    3 |                                         | jmp LABEL_START nop    |
  | BS_OEMName     |    3 |    8 | 厂商名                                  | 	'ForrestY'           |
  | BPB_BytsPerSec |   11 |    2 | 每扇区字节数 　                         | 	0x200（即十进制 512） |
  | BPB_SecPerClus |   13 |    1 | 每簇扇区 　                            | 	0x01                 |
  | BPB_RsvdSecCnt |   14 |    2 | Boot 记录占用多少扇区                    | 	0x01                 |
  | BPB_NumFATs    |   16 |    1 | 共有多少 FAT 表                           | 	0x02                 |
  | BPB_RootEntCnt |   17 |    2 | 根目录文件数最大值                      | 	0xE0（224）         |
  | BPB_TotSec16   |   19 |    2 | 扇区总数                                | 	0xB40（2880）        |
  | BPB_Media      |   21 |    1 | 介质描述符                              | 0xF0                   |
  | BPB_FATSz16    |   22 |    2 | 每 FAT 扇区数                             | 	0x09                 |
  | BPB_SecPerTrk  |   24 |    2 | 每磁道扇区数                            | 0x12                   |
  | BPB_NumHeads   |   26 |    2 | 磁头数                                  | 0x02                   |
  | BPB_HiddSec    |   28 |    4 | 隐藏扇区数                              | 	0                    |
  | BPB_TotSec32   |   32 |    4 | 如果 BPB_TotSec16 是 0，由这个值记录扇区数 | 	0xB40（2880）        |
  | BS_DrvNum      |   36 |    1 | 中断 13 的驱动器号                        | 	0                    |
  | BS_Reserved1   |   37 |    1 | 未使用                                  | 	0                    |
  | BS_BootSig     |   38 |    1 | 扩展引导标记                            | 0x29                   |
  | BS_VolD        |   39 |    4 | 卷序列号                                | 	0                    |
  | BS_VolLab      |   43 |   11 | 卷标                                    | 	'OrangeS0.02'        |
  | BS_FileSysType |   54 |    8 | 文件系统类型                            | 	'FAT12'              |
  | 引导代码       |   62 |  448 | 引导代码、数据及其他填充字符等          |                        |
  | 结束标志       |  510 |    2 |                                         | 	0xAA55               |
 
**** 文件分配表（FAT）
     紧接着引导扇区的是两个完全相同的 FAT 表，每个 FAT 表占用 9 个扇区
     
     它包含有两份文件分配表，这是出于系统冗余考虑，尽管它很少使用，即使是磁盘修
     复工具也很少使用它。它是分区信息的映射表，指示簇是如何存储的。
     
     每个 FAT 项占 12bit，这也所被成为 FAT12 的原因，FAT 项的值代表的是文件下一个簇号，
     但如果值大于等于 0xFF8，则表示当前簇已经是本文件的最后一个簇。如果值是 0xFF7，
     表示它是一个坏簇。
     
     一个 FAT 项可能跨越两个扇区，编码实现的过程要考虑在内。 
**** 根目录区
     FAT 表之后是根目录区，根目录区长度不固定
     
     根目录区位于第二个 FAT 表之后，开始扇区号为 19，它由若干个目录条目（Directory
     Entry）组成，条目最多有 BPB_RootEntCnt 个。每个条目占用 32 个字节，它的格式如
     下： 
 | 名称         | 　　	偏移 | 　　	长度 | 　　	描述                     |
 | DIR_Name     | 　　	0    | 　　	0xB  | 　　	文件名 8 字节，扩展名 3 字节 |
 | DIR_Attr     | 　　	0xB  | 　　	1    | 　　	文件属性                 |
 | 保留         | 　　	0xC  | 　　	10   | 　　                           |
 | DIR_WrtTime  | 　　	0x16 | 　　	2    | 　　	最后修改时间             |
 | DIR_WrtDate  | 　　	0x18 | 　　	2    | 　　	最后修改日期             |
 | DIR_FstClus  | 　　	0x1A | 　　	2    | 　　	此条目对应的开始簇号     |
 | DIR_FileSize | 　　	0x1C | 　　	4    | 　　	文件大小                 |
     
**** 数据区
     数据区在根目录区后，数据区开始扇区号为根目录区起始扇区号+根目录区大小，即
     19+BPB_RootEntCnt * 32 / BPB_BytsPerSec。
<!-- GFM-TOC -->
** Ext2 文件系统
   当要读取一个文件的内容时，先在 inode 中去查找文件内容所在
   的所有 block，然后把所有 block 的内容读出来。
